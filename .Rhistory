) +
theme_minimal()
ggplot(
data = combined_natnlcodes2,
mapping = aes(x = Month, y = Counts)
) +
geom_point(aes(color = factor(Year))) +
scale_x_continuous(breaks = seq(min(combined_natnlcodes2$Month), max(combined_natnlcodes2$Month), by = 1)) +
labs(
title = "Bird Counts by month",
x = "Month",
y = "Bird Counts",
color = "Year of observation"
) +
theme_minimal()
plot3i <- ggplot(
data = combined_natnlcodes2,
mapping = aes(x = Month, y = Counts)
) +
geom_point(aes(color = factor(Year))) +
scale_x_continuous(breaks = seq(min(combined_natnlcodes2$Month), max(combined_natnlcodes2$Month), by = 1)) +
labs(
title = "Bird counts by month",
x = "Month",
y = "Bird Counts",
color = "Year of observation"
) +
theme_minimal()
print(plot3i)
library (sf)
Dataset_1 <- read.csv("PFW_2021_Public.csv")
ggplot(data = Dataset_1) +
geom_sf() +
theme_minimal()
library(tidyverse)
ggplot(data = Dataset_1) +
geom_sf() +
theme_minimal()
View(Dataset_1)
sf_dataset1 <- st_as_sf(dataset1, coords = c("longitude", "latitude"), crs = 4326)
sf_Dataset_1 <- st_as_sf(Dataset_1, coords = c("longitude", "latitude"), crs = 4326)
Dataset_1 <- Dataset_1[!is.na(dataset1$latitude) & !is.na(dataset1$longitude), ]
Dataset_1 <- Dataset_1[!is.na(Dataset_1$latitude) & !is.na(dataset1$longitude), ]
Dataset_1 <- Dataset_1[!is.na(Dataset_1$latitude) & !is.na(Dataset_1$longitude), ]
sf_Dataset_1 <- st_as_sf(Dataset_1, coords = c("longitude", "latitude"), crs = 4326)
sf_Dataset_1 <- st_as_sf(Dataset_1, coords = c("longitude", "latitude"), crs = 4326)
print(sf_dataset1)
sf_Dataset_1 <- st_as_sf(Dataset_1, coords = c("longitude", "latitude"), crs = 4326)
print(sf_Dataset_1)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry)) +
theme_minimal()
unique(sf_Dataset_1)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, fill = how_many )) +
scale_fill_viridis_c() +
theme_minimal() +
labs(title = "Bird species sightings", fill = "Legend Title")
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, fill = how_many )) +
scale_fill_viridis_c() +
theme_minimal() +
labs(title = "Bird species sightings", fill = "how_many")
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, fill = how_many)) +
scale_fill_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", fill = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.5)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, fill = how_many)) +
scale_fill_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", fill = "Sightings") +
annotation_scale(location = "bl", width_hint = 0.5)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, fill = how_many)) +
scale_fill_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", fill = "Sightings")
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, fill = loc_id)) +
scale_fill_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", fill = "Sightings")
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, fill = how_many)) +
scale_fill_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", fill = "Sightings")
ggplot(data = sf_dataset1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.5)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.5)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings")
install.packages("ggspatial")
library("ggspatial")
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.5)
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.5)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.5)
library(ggsn)
install.packages("ggsn")
library(ggsn)
scale_bar <- function(lon, lat, distance_lon, distance_lat, distance_legend, dist_unit = "km", height = 0.02, text_size = 3) {
lon_min <- lon
lon_max <- lon + distance_lon
lat_min <- lat
lat_max <- lat + distance_lat
bar <- data.frame(
lon = c(lon_min, lon_max, lon_max, lon_min, lon_min),
lat = c(lat_min, lat_min, lat_max, lat_max, lat_min)
)
legend <- data.frame(
lon = c(lon_min, lon_max),
lat = c(lat_min - distance_legend, lat_min - distance_legend),
text = c(0, distance_lon)
)
list(
geom_polygon(data = bar, aes(x = lon, y = lat), fill = "white", color = "black"),
geom_text(data = legend, aes(x = lon, y = lat, label = text), size = text_size)
)
}
ggplot(data = sf_dataset1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_custom(grob = grid::rectGrob(), xmin = -Inf, xmax = Inf, ymin = -Inf, ymax = Inf) +
scale_bar(lon = 10, lat = 50, distance_lon = 10, distance_lat = 0.5, distance_legend = 1)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_custom(grob = grid::rectGrob(), xmin = -Inf, xmax = Inf, ymin = -Inf, ymax = Inf) +
scale_bar(lon = 10, lat = 50, distance_lon = 10, distance_lat = 0.5, distance_legend = 1)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.25)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.10)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 3) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.30)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 2) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings")
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 2) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank()
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.30)
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 2) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank(),
panel.grid.major = element_line(color = "grey80"),
panel.grid.minor = element_line(color = "grey90")
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.30)
geom_sf(aes(geometry = geometry, color = how_many), size = 2) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_text(color = "black"),  # Add axis text
axis.ticks = element_line(color = "black"),  # Add axis ticks
panel.grid.major = element_line(color = "grey80"),  # Add major grid lines
panel.grid.minor = element_line(color = "grey90")   # Add minor grid lines
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.30) +
coord_sf()
ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 2) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_text(color = "black"),  # Add axis text
axis.ticks = element_line(color = "black"),  # Add axis ticks
panel.grid.major = element_line(color = "grey80"),  # Add major grid lines
panel.grid.minor = element_line(color = "grey90")   # Add minor grid lines
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.30) +
coord_sf()
map_plot <- ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 2) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_text(color = "black"),  # Add axis text
axis.ticks = element_line(color = "black"),  # Add axis ticks
panel.grid.major = element_line(color = "grey80"),  # Add major grid lines
panel.grid.minor = element_line(color = "grey90")   # Add minor grid lines
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.30) +
coord_sf()
# Save the plot to a file with larger dimensions
ggsave("bird_species_sightings.png", plot = map_plot, width = 12, height = 8, dpi = 300)
map_plot <- ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 2) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_text(color = "black"),  # Add axis text
axis.ticks = element_line(color = "black"),  # Add axis ticks
panel.grid.major = element_line(color = "grey80"),  # Add major grid lines
panel.grid.minor = element_line(color = "grey90")   # Add minor grid lines
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.30) +
coord_sf()
map_plot <- ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 2) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_text(color = "black"),  # Add axis text
axis.ticks = element_line(color = "black"),  # Add axis ticks
panel.grid.major = element_line(color = "grey80"),  # Add major grid lines
panel.grid.minor = element_line(color = "grey90")   # Add minor grid lines
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.30) +
coord_sf()
print(map_plot)
map_plot <- ggplot(data = sf_Dataset_1) +
geom_sf(aes(geometry = geometry, color = how_many), size = 1) +
scale_color_viridis_c(option = "plasma", name = "Number of Sightings") +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_blank(),
axis.text = element_text(color = "black"),  # Add axis text
axis.ticks = element_line(color = "black"),  # Add axis ticks
panel.grid.major = element_line(color = "grey80"),  # Add major grid lines
panel.grid.minor = element_line(color = "grey90")   # Add minor grid lines
) +
labs(title = "Bird Species Sightings", color = "Sightings") +
annotation_north_arrow(location = "tr", which_north = "true",
style = north_arrow_fancy_orienteering) +
annotation_scale(location = "bl", width_hint = 0.30) +
coord_sf()
print(map_plot)
library("rnaturalearth")
library("rnaturalearth"),
install.packages("rnaturalearth")
install.packages("rnaturalearthdata")
world_bounds <- ne_countries(scale = "medium", returnclass = "sf")
install.packages("rnaturalearth")
install.packages("rnaturalearthdata")
install.packages("rnaturalearthhires")
library(rnaturalearth)
world_bounds <- countries (scale = "medium", returnclass = "sf")
world_bounds <- ne_countries (scale = "medium", returnclass = "sf")
world_bounds <- ne_coastline (scale = "medium", returnclass = "sf")
world_bounds <- ne_countries(scale =110, returnclass ="sf")
install.packages("maps")
library(maps)
world_map <- map("world", plot = FALSE, fill = TRUE)
world_sf <- st_as_sf(map("world", plot = FALSE, fill = TRUE))
world_map <- map("world", plot = FALSE, fill = TRUE)
world_sf <- sf_Dataset_1(map("world", plot = FALSE, fill = TRUE))
world_map <- map("world", plot = FALSE, fill = TRUE)
world_sf <- sf_Dataset_1 (map("world", plot = FALSE, fill = TRUE))
world_map <- map("world", plot = FALSE, fill = TRUE)
world_sf <- sf_as_sf(map("world", plot = FALSE, fill = TRUE))
world_map <- map("world", plot = FALSE, fill = TRUE)
world_sf <- st_as_sf(map("world", plot = FALSE, fill = TRUE))
world_map <- map("world", plot = FALSE, fill = TRUE)
world_sf <- st_as_sf(world_map"))
world_map <- map("world", plot = FALSE, fill = TRUE)
world_sf <- st_as_sf("world_map")
world_map <- map("world", plot = FALSE, fill = TRUE)
world_sf <- st_as_sf("world_map")
world_map <- map("world", plot = FALSE, fill = TRUE)
world_sf <- st_as_sf("world_map")
install.packages("installr")
library(installr)
updateR()
library(sf)
if ("st_as_sf" %in% ls("package:sf")) {
print("st_as_sf() is available")
} else {
print("st_as_sf() is not available")
}
world_map <- map("world", plot = FALSE, fill = TRUE)
world_sf <- st_as_sf("world_map")
Dataset_1 <- read.csv("PFW_2021_Public.csv")
library(tidyverse)
Dataset_1 <- Dataset_1[!is.na(Dataset_1$latitude) & !is.na(Dataset_1$longitude), ]
merge_natnlcodes <- Dataset_1 %>%
mutate(prefix = str_extract(subnational1_code, "^[A-Z]{2}")) %>%
group_by(prefix)
merge_natnlcodes2 <- merge_natnlcodes %>% rename(Country = prefix, Counts = how_many)
View(merge_natnlcodes2)
merge_natnlcodes2 <- merge_natnlcodes2[!is.na(Dataset_1$latitude) & !is.na(Dataset_1$longitude), ]
merge_natnlcodes2 <- merge_natnlcodes %>% rename(Country = prefix, Counts = how_many)
sf_mapdata<- st_as_sf(merge_natnlcodes2, coords = c("longitude", "latitude"), crs = 4326)
